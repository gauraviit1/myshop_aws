{% load app_filter %}
{% load mptt_tags %}
{% load static %}
<div class="col-md-2 nopadding" style="padding-top: 30px; font-size:13px;">
  <div class="panel-group" id="accordion">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" style="font-size:16px;">
          Bakery <span class="glyphicon glyphicon-triangle-bottom pull-right"></span> </a>
        </h4>
      </div>
        <div id="collapseOne" class="panel-collapse collapse sidebarlist" style="max-height:228px; max-width:194px; overflow:auto;">
            {% full_tree_for_model shop.ModifiedProduct as products %}

            {% for category,structure in bakery_item|tree_info %}
                {% if structure.new_level %}<ul><li>{% else %}</li><li>{% endif %}
                    <a href="{{ category.get_absolute_url }}"><b>{{ category.name_for_hierarchial_list }}</b></a>
                        {% for product,structure in category|filter2|tree_info %}
                        {% if product.is_root_node and product.visible %}
                            <ul><li>
                                <a href="{{ product.get_absolute_url }}">{{ product.name_for_hierarchial_list}}</a>
                            </li></ul>
                        {% else %}

                        {% endif %}

                        {% endfor %}
                {% for level in structure.closed_levels %}</li></ul>{% endfor %}
            {% endfor %}



        </div>
    </div>
    <div class="panel panel-primary">
      <div class="panel-heading">
      <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" style="font-size:16px;">
          Clothes<span class="glyphicon glyphicon-triangle-bottom pull-right"></span> </a>
        </h4>
      </div>
        <div id="collapseTwo" class="panel-collapse collapse sidebarlist" style="max-height:228px; max-width:194px; overflow:auto;" >
            {% full_tree_for_model shop.ModifiedProduct as products %}
            {% for category,structure in cloth_item|tree_info %}
                {% if structure.new_level %}<ul><li>{% else %}</li><li>{% endif %}
                    <a href="{{ category.get_absolute_url }}"><b>{{ category.name_for_hierarchial_list }}</b></a>
                        {% for product,structure in category|filter2|tree_info %}
                        {% if product.is_root_node and product.visible %}
                            <ul><li>
                                <a href="{{ product.get_absolute_url }}">{{ product.name_for_hierarchial_list }}</a>
                            </li></ul>
                        {% else %}
                        {% endif %}
                        {% endfor %}
                {% for level in structure.closed_levels %}</li></ul>{% endfor %}
            {% endfor %}
        </div>
    </div>
    <div class="panel panel-primary">
      <div class="panel-heading">
      <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" style="font-size:16px;">
          Handicrafts<span class="glyphicon glyphicon-triangle-bottom pull-right"></span> </a>
        </h4>
      </div>
        <div id="collapseThree" class="panel-collapse collapse sidebarlist" style="max-height:228px; max-width:194px; overflow:auto;">
            {% full_tree_for_model shop.ModifiedProduct as products %}

            {% for category,structure in handicraft_item|tree_info %}
                {% if structure.new_level %}<ul><li>{% else %}</li><li>{% endif %}
                    <a href="{{ category.get_absolute_url }}"><b>{{ category.name_for_hierarchial_list }}</b></a>
                        {% for product,structure in category|filter2|tree_info %}
                        {% if product.is_root_node and product.visible %}
                            <ul><li>
                                <a href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                            </li></ul>
                        {% else %}

                        {% endif %}

                        {% endfor %}
                {% for level in structure.closed_levels %}</li></ul>{% endfor %}
            {% endfor %}
        </div>
    </div>
  </div>
  <script type="text/javascript">
  $('.collapse').on('shown.bs.collapse', function(){
$(this).parent().find(".glyphicon-triangle-bottom").removeClass("glyphicon-triangle-bottom").addClass("glyphicon-triangle-right");
}).on('hidden.bs.collapse', function(){
$(this).parent().find(".glyphicon-triangle-right").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom");
});
  </script>
  <link rel="stylesheet" type="text/css" href="{% static 'css/sidebar.css' %}">
  <style>
  .vertical-track {
      width: 2px;
      background: rgba(0, 0, 0, 0);
      margin-right: 2px;
      border-radius: 10px;
      -webkit-transition: background 250ms linear;
      transition: background 250ms linear;
  }

  .horizontal-track {
      height: 2px;
      background: rgba(0, 0, 0, 0);
      margin-bottom: 2px;
      border-radius: 10px;
      -webkit-transition: background 250ms linear;
      transition: background 250ms linear;
  }

  .vertical-track:hover,
  .vertical-track.dragging {
      background: #d9d9d9; /* Browsers without rgba support */
      background: rgba(0, 0, 0, 0.15);
  }

  .horizontal-track:hover,
  .horizontal-track.dragging {
      background: #d9d9d9; /* Browsers without rgba support */
      background: rgba(0, 0, 0, 0.15);
  }

  .vertical-handle {
      width: 2px;
      right: 0;
      background: #4582EC;
      border-radius: 7px;
      -webkit-transition: width 250ms;
      transition: width 250ms;
  }
  .horizontal-handle {
      height: 2px;
      right: 0;
      background: #4582EC;
      border-radius: 7px;
      -webkit-transition: width 250ms;
      transition: width 250ms;
  }

  .vertical-track:hover .vertical-handle,
  .vertical-track.dragging .vertical-handle {
      width: 5px;
  }
  .horizontal-track:hover .horizontal-handle,
  .horizontal-track.dragging .horizontal-handle {
      height: 5px;
  }


  </style>
  <script src= '{% static "js/enscroll-0.6.2.min.js" %}'>

  </script>
  <script type="text/javascript">
  $('#collapseTwo').enscroll({
  showOnHover: true,
  verticalTrackClass: 'vertical-track',
  verticalHandleClass: 'vertical-handle',
  horizontalScrolling:	true,
  horizontalTrackClass: 'horizontal-track',
  horizontalHandleClass: 'horizontal-handle',

});

$('#collapseOne').enscroll({
showOnHover: true,
verticalTrackClass: 'vertical-track',
verticalHandleClass: 'vertical-handle',
horizontalScrolling:	true,
horizontalTrackClass: 'horizontal-track',
horizontalHandleClass: 'horizontal-handle',

});
$('#collapseThree').enscroll({
showOnHover: true,
verticalTrackClass: 'vertical-track',
verticalHandleClass: 'vertical-handle',
horizontalScrolling:	true,
horizontalTrackClass: 'horizontal-track',
horizontalHandleClass: 'horizontal-handle',

});
  </script>
</div>
